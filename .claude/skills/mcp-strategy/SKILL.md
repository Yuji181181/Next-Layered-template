# MCP Strategy & Usage Guidelines

各MCPサーバーは以下の目的で戦略的に使い分けてください。推測でコードを書かず、必ずこれらのツールで裏付けを取ること。

| MCP Server | Target | Role & Reason |
| :--- | :--- | :--- |
| **context7** | Next.js, Better-auth | **【知識の正当化】**<br>AIの持つ古い知識を上書きします。Next.js公式やライブラリのドキュメントを直接読み込み、幻覚（ハルシネーション）による古いAPIの使用や誤った実装を防いでください。 |
| **MySQL** | TiDB, Drizzle | **【事実確認】**<br>TiDBに接続し、マイグレーション実行後やデータ操作の実装時に使用します。<br>TiDBに直接接続し、スキーマの状態やテストデータの整合性を「推測」ではなく「事実」として確認してください。 |
| **Puppeteer** | Playwright, Tailwind | **【視覚確保】**<br>E2Eテストの実装やUI修正時に使用します。<br>Playwrightのテストを書く際、実際のDOM構造（class名や階層）を覗き見させ、壊れにくく堅牢なセレクタを選定してください。 |
| **Next.js DevTools** | App Router | **【状態把握】**<br>デバッグ時に使用します。<br>サーバーコンポーネントのエラーや、現在のルーティングの状態を監視し、ブラックボックスになりがちなApp Routerの挙動を可視化してデバッグを加速させてください。 |
| **Brave Search** | General | **【トラブルシューティング】**<br>未知のエラーに遭遇した際に使用します。<br>公式ドキュメントに載っていない「特定のエラーの回避策」や「GitHub Issue」を探すために、context7のサブツール（検索補完）として活用してください。 |